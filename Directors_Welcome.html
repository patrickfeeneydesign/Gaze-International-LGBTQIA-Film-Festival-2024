<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAZE INTERNATIONAL LGBTQIA FILM FESTIVAL</title>
    <meta name="description" content="Join the GAZE INTERNATIONAL LGBTQIA FILM FESTIVAL for a celebration of queer cinema.">
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://use.typekit.net/opq3sul.css">
    <link rel="stylesheet" href="styles.css">
    <!-- Add Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-XXXXX-Y');
    </script>
</head>
<body>
    <!-- SKIP TO CONTENT -->
    <a href="#maincontent" role="button" tabindex="0" class="skip-link">Director's Welcome Message. Press enter to skip to page content, or press tab to navigate menu</a>
    <!-- Main Title -->
    <header tabindex="0" aria-label="Home Button">
        <a href="index.html" style="display: inline-block; cursor: pointer;">
            <img alt="Gaze Film Festival Logo, Page Header" src="img/gaze_logo.png">
        </a>
    </header>
    <!-- BUTTON TOGGLE MENU -->
    <button class="menu-toggle" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="The main menu is now open, press tab to navigate"></button>
    <!-- Menu -->
    <nav>
        <ul>
            <li class="dropdown" tabindex="0" aria-label="Menu Section, About">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">ABOUT</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" Director's Welcome message" role="button"><a href="Directors_Welcome.html">Director's Welcome</a></li>
                    <li tabindex="0" aria-label=" Manager's Welcome message" role="button"><a href="chair.html">Chairperson's Welcome</a></li>
                </ul>
            </li>

            <!-- HIDDEN FOR NOW
            <li class="dropdown" tabindex="0" aria-label="main menu, Programme of events">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">PROGRAMME</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" View timetable" role="button"><a href="index.html">Timetable</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Thursday the 2nd of August" role="button"><a href="Thursday.html">Thursday 1st</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Friday the 3rd of August" role="button"><a href="index.html">Friday 2nd</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Saturday the 4th of August" role="button"><a href="index.html">Saturday 3rd</a></li>
                    <li tabindex="0" aria-label=" view Films showing on Sunday the 5th of August" role="button"><a href="index.html">Sunday 4th</a></li>
                </ul>
            </li>
            -->
            <li class="dropdown" tabindex="0" aria-label="Menu Section, Support">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">SUPPORT</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" Subscribe to newsletter" role="button"><a href="index.html">Subscribe</a></li>
                    <li tabindex="0" aria-label=" Become a Festival Friend" role="button"><a href="index.html">Festival Friends</a></li>
                </ul>
            </li>
            <li class="dropdown" tabindex="0" aria-label="Menu Section, GAZE Archive">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">ARCHIVE</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" View past programmes" role="button"><a href="index.html">Timeline</a></li>
                </ul>
            </li>
            <li class="dropdown" tabindex="0" aria-label="Menu Section, Submissions">
                <a href="#" aria-haspopup="true" aria-expanded="false" role="button">SUBMIT</a>
                <ul class="dropdown-content">
                    <li tabindex="0" aria-label=" Submit via Film Freeway" role="button"><a href="index.html">Film Freeway</a></li>
                    <li tabindex="0" aria-label=" Information on Submissions" role="button"><a href="index.html">Info</a></li>
                </ul>
            </li>        
        </ul>
    </nav>
    <!-- Main Body -->
    <main id="maincontent">
        <article>
            <h2 tabindex="0"  role="heading" aria-label="FESTIVAL DIRECTOR'S WELCOME">Festival Director's Welcome.</h2>
            <h3 tabindex="0" role="heading" aria-label="Greg Thorpe">Greg Thorpe</h3>
            <figure tabindex="0">
                <img alt="The image shows a man with short curly hair and a beard, smiling while seated in an outdoor garden at sunset. The background features blooming flowers and a structure with columns entwined with climbing plants." src="img/Festival Director pic 2.jpg">
            </figure>
            <h4 tabindex="0" role="heading" aria-label="Hello friends, and welcome to the GAZE International LGBTQIA Film Festival for 2024.">Hello friends, and welcome to the GAZE International LGBTQIA Film Festival for 2024.</h4>
            <p tabindex="0">It's a big one! This year we present 27 international features and 10 eclectic shorts programmes over five days, including Irish, European and World Premieres. We have masterclass conversations with filmmakers, actors, musicians and gamers. We present forgotten gay artists, lesbians from Lesbos, trans women on the catwalk, and trans guys in the sauna. We celebrate Black Queer Artistry, Bollywood musicals, and Old Lesbians. We bring you a bisexual music icon, a nude beach, a drag dramedy and queer cheerleaders. We interrogate Taboos and we celebrate Resistance.

                We also offer a workshop for film critics, a get-together for festival-goers and filmmakers, four parties (at the last count), a brand new ticketing system for festival bundles and offers, and of course world class cinema from end to end. 
                
                We've an incredibly talented team at the helm to bring you this year's event, so let me say thank you and welcome to new Festival Manager Sam Ahern, new Marketing Manager Jack O'Dea, and new Festival Intern, Mayra Xavier. 
                <br><br>
                Your commitment, excellence and imagination has re-ignited our enthusiasm. 
                
                Thank you also to Assistant Programmer James Hudson for consistently unearthing cinematic treasure, and Samuel Foxton who has been with GAZE for over ten incredible years. Samuel not only makes sure we secure 100+ pristine cinema files to enjoy every year, but he is also the talented artist behind our stunning annual festival trailer. Thank you Samuel.
                
                We've also expanded our Board of Trustees, welcoming an amazing team of individuals dedicated to strengthening and future-proofing this great festival.  We are lucky to have all of you and I give you each my heartfelt gratitude.
                
                There has been sad news too since our last get-together. In October, GAZE lost a dear friend - and Ireland lost an icon and trailblazer - when the irrepressible and irreplaceable Edmund Lynch sadly died. We honour Ed's memory at this year's festival with a screening of his ground-breaking documentary, A Different Country, where his work and legacy will be remembered and celebrated.
                 
                Aside from being at the forefront of queer cinema, the most rewarding thing about directing a film festival is sharing the platform through collaboration.
                <br><br>
                This year we have a plethora of partnerships - some new, others longstanding - bringing comradeship, diversity and community to our programme. A huge GAZE thank you to Queer Spectrum Film Festival, Sporting Pride, Iris Prize, Leathermen of Ireland, Small Trans Library Dublin, aemi, Gay Health Network, Bealtaine Festival, and Queer Cinema For Palestine.
                
                Above all we have a renewed sense of vigour and excitement to share all things cutting-edge, challenging and fun from the world of LGBTQIA cinema with you, our audience.
                
                This is my third year directing GAZE and it has been a genuine privilege and adventure from the very beginning. Only last summer, Ed Lynch - always the committed GAZE supporter - spoke in one of our workshops. 'Don't forget that you can change the culture,' he reminded us. So let's do that, and let;s change it for the better. We'll see you in the cinema. 
                </p>
                <br><br>
        </article>

    </main>
   <!-- Footer -->
<footer class="white-background">
    <div class="social-icons">
        <a href="https://www.instagram.com" target="_blank" aria-label="Instagram" role="link">
            <img src="img/instagram-icon.png" alt="Link to Instagram page" tabindex="0">
        </a>
        <a href="https://www.facebook.com" target="_blank" aria-label="Facebook" role="link">
            <img src="img/facebook-app-round-white-icon.png" alt="Link to Facebook page" tabindex="0">
        </a>
        <a href="https://www.twitter.com" target="_blank" aria-label="Twitter" role="link">
            <img src="img/x-social-media-white-icon.png" alt="Link to Twitter page" tabindex="0">
        </a>
    </div>
    <div class="footer-text">
        &copy; GAZE Film Festival 2024 | All rights reserved
    </div>
</footer>
<script>

document.addEventListener('DOMContentLoaded', function() {
const nav = document.querySelector('nav');
const toggleButton = document.querySelector('.menu-toggle');
const dropdowns = document.querySelectorAll('.dropdown');
const cursor = createCustomCursor();

if (window.matchMedia("(min-width: 768px)").matches) {
    const cursor = createCustomCursor();
    setupCustomCursor(cursor);
    setupDropdowns(dropdowns);
    setupMenuToggle(document.querySelector('.menu-toggle'), document.querySelector('nav'));
}
setupDropdownZZ(dropdowns);
setupAccessibility();
initializeParallaxEffects();

});

function createCustomCursor() {
const cursor = document.createElement('div');
cursor.classList.add('custom-cursor');
document.body.appendChild(cursor);
return cursor;
}

function setupCustomCursor(cursor) {
document.addEventListener('mousemove', (e) => {
    cursor.style.left = `${e.clientX}px`;
    cursor.style.top = `${e.clientY}px`;
});

document.querySelectorAll('a, button, input').forEach(element => {
    element.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
    element.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
});
}

// NAV FOCUS SETUP
function setupFocusWithinNav(nav) {
const focusableElements = nav.querySelectorAll('a, button, input'); // Extend this selector to include other focusable elements if needed
focusableElements.forEach(element => {
    element.addEventListener('focus', openMenu);
});
}

function setupMenuToggle(toggleButton, nav) {
let closeMenuTimeout;

// Function to open the menu
function openMenu() {
    clearTimeout(closeMenuTimeout); // Clear any pending close command
    nav.style.left = '0vw';
    nav.style.opacity = '1';
    toggleButton.setAttribute('aria-expanded', 'true');
    toggleButton.classList.add('expanded');
}

// Function to close the menu
function closeMenu() {
    clearTimeout(closeMenuTimeout); // Clear any pending open command to prevent conflicts
    closeMenuTimeout = setTimeout(() => {
        nav.style.left = '-20vw';
        nav.style.opacity = '0';
        toggleButton.setAttribute('aria-expanded', 'false');
        toggleButton.classList.remove('expanded');
    }, 2500); // Correct delay to 2000 milliseconds
}

// Toggle menu on click
 // toggleButton.addEventListener('click', function() {
 //    let isOpen = toggleButton.getAttribute('aria-expanded') === 'true';
 //    if (isOpen) {
 //        closeMenu();
 //    } else {
 //        openMenu();
 //    }
 // });

// Open menu on focus
toggleButton.addEventListener('focus', openMenu);

// Hover events
toggleButton.addEventListener('mouseenter', openMenu);
// Only close the menu when leaving both button and nav area
toggleButton.addEventListener('mouseleave', function(event) {
    if (!nav.contains(event.relatedTarget)) {
        closeMenu();
    }
});
nav.addEventListener('mouseleave', function(event) {
    if (!toggleButton.contains(event.relatedTarget)) {
        closeMenu();
    }
});

// Ensure keyboard accessibility
toggleButton.addEventListener('keydown', function(event) {
    if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault(); // Stop default action
        toggleButton.click(); // Simulate click for keyboard
    }
});
}

function setupDropdowns(dropdowns) {
dropdowns.forEach(dropdown => {
    const mainLink = dropdown.querySelector('a:first-child');
    const dropdownContent = dropdown.querySelector('.dropdown-content');
    const dropdownLinks = dropdown.querySelectorAll('li');

    mainLink.addEventListener('click', function(event) {
        event.preventDefault();
        const isExpanded = dropdownContent.style.maxHeight !== '';
        mainLink.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
        dropdownContent.style.maxHeight = isExpanded ? '' : dropdownContent.scrollHeight + 'px';
    });

    document.addEventListener('click', function(event) {
        if (!dropdown.contains(event.target)) {
            mainLink.setAttribute('aria-expanded', 'false');
            dropdownContent.style.maxHeight = '';
        }
    });

    // Adding key press event for dropdown items
    dropdownLinks.forEach(item => {
        item.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const link = item.querySelector('a');
                if (link) {
                    link.click();
                }
            }
        });
    });
    
});
}


// MOBILE
function setupDropdownZZ(dropdowns) {
dropdowns.forEach(dropdown => {
    const mainLink = dropdown.querySelector('a:first-child');
    const dropdownContent = dropdown.querySelector('.dropdown-content');

    mainLink.addEventListener('click', function(event) {
        if (window.innerWidth <= 768) {
            event.preventDefault(); // Prevent navigation
            const isExpanded = dropdownContent.style.maxHeight !== '';
            mainLink.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
            dropdownContent.style.maxHeight = isExpanded ? '' : dropdownContent.scrollHeight + 'px';
        }
    });

    // Clicking outside to close dropdown
    document.addEventListener('click', function(event) {
        if (!dropdown.contains(event.target)) {
            mainLink.setAttribute('aria-expanded', 'false');
            dropdownContent.style.maxHeight = '';
        }
    });
});
}

function setupAccessibility() {
// Enhance accessibility for keyboard navigation
document.querySelector('header').addEventListener('keydown', (event) => {
    if (event.key === "Enter" || event.keyCode === 13) {
        const link = event.target.querySelector('a');
        if (link) {
            link.click();
        }
    }
});
}

function initializeParallaxEffects() {
if (window.innerWidth > 768) {
    applyParallaxEffect();
}
window.addEventListener('resize', () => {
    if (window.innerWidth > 768) {
        applyParallaxEffect();
    } else {
        resetParallaxEffect();
    }
});
}

function applyParallaxEffect() {
document.addEventListener('scroll', () => {
    const backgrounds = [
        { element: document.querySelector('.backgroundimg'), startScroll: 100 },
        { element: document.querySelector('.backgroundimg2'), startScroll: 500 },
        { element: document.querySelector('.backgroundimg3'), startScroll: 1200 }
    ];

    backgrounds.forEach(bg => {
        if (bg.element) {
            const scrollPosition = window.pageYOffset;
            const scale = scrollPosition > bg.startScroll ? 1 + (scrollPosition - bg.startScroll) * -0.0002 : 1;
            bg.element.style.transform = `scale(${scale})`;
        }
    });
});
}

function resetParallaxEffect() {
const backgrounds = [document.querySelector('.backgroundimg'), document.querySelector('.backgroundimg2'), document.querySelector('.backgroundimg3')];
backgrounds.forEach(bg => {
    if (bg) {
        bg.style.transform = 'scale(1)';
    }
});
}
</script>
</body>
</html>
